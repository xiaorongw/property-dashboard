install.packages("rmarkdown")
shiny::runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/project')
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse', 'sf', 'tmaptools')
packages = c('tidyverse', 'tmap', 'sf', 'tmaptools')
for (p in packages) {
if (!require(p, character.only = T)) {
install.packages(p)
}
library(p, character.only = T)
}
packages = c('tidyverse', 'tmap', 'sf', 'tmaptools')
for (p in packages) {
if (!require(p, character.only = T)) {
install.packages(p)
}
library(p, character.only = T)
}
geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE')
subzone <- st_read(dsn = 'data/geospatial', layer = 'MP14_SUBZONE_NO_SEA_PL')
plot(MP14_SUBZONE_NO_SEA_PL)
plot(subzone)
plot(subzone, 'SUBZONE_N')
plot(subzone['SUBZONE_N'])
plot(subzone['SUBZONE_N'])
plot(geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE'), add=TRUE)
geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE')$coords
st_as_sf(geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE')$coords, coords = c('x', 'y'))
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE')$coords
class(geocoded_pt[x])
class(geocoded_pt[[x]])
class(geocoded_pt[1])
class(geocoded_pt[2])
class(geocoded_pt)
class(geocoded_pt)
class(geocoded_pt %>% as.data.frame())
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE')$coords %>% as.data.frame()
st_as_sf(geocoded_pt, coords = c('x', 'y'))
geocoded_pt
st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'))
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'))
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'))
point
plot(subzone['SUBZONE_N'])
plot(point, add=TRUE)
plot(subzone['SUBZONE_N'])
plot(point, cex = 10 ,add=TRUE)
plot(subzone['SUBZONE_N'])
plot(point, cex = 100,add=TRUE)
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y')) %>%
st_transform(3414)
geocoded_pt <- (geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', crs = 3414)$coords %>% as.data.frame()
geocoded_pt <- (geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=3414)$coords %>% as.data.frame()
geocoded_pt <- (geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection='3414')$coords %>% as.data.frame()
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=3414)$coords %>% as.data.frame()
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'))
point
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y')) %>%
st_set_crs(3414)
point
plot(subzone['SUBZONE_N'])
plot(point, cex = 100,add=TRUE)
plot(subzone['SUBZONE_N'])
plot(point, cex = 10000, add=TRUE)
# plot(subzone['SUBZONE_N'])
plot(point, cex = 10000, add=TRUE)
# plot(subzone['SUBZONE_N'])
plot(point, cex = 10000)
plot(subzone['SUBZONE_N'])
plot(point, cex = 10000, add=TRUE)
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords %>% as.data.frame()
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'))
point
point <- st_as_sf(as.data.frame(t(geocoded_pt)), coords = c('x', 'y'), crs = 4326) %>%
st_transform(3414)
point
plot(subzone['SUBZONE_N'])
plot(point, cex = 10000, add=TRUE)
plot(subzone['SUBZONE_N'])
plot(point, cex = 100000, add=TRUE)
tm_shape(subzone) +
tm_polygons() +
tm_shape(point) +
tm_bubbles()
tmap_mode('view')
tm_shape(subzone) +
tm_polygons() +
tm_shape(point) +
tm_bubbles()
tm_shape(subzone) +
tm_polygons() +
tm_shape(point) +
tm_bubbles(size = 10)
tm_shape(subzone) +
tm_polygons() +
tm_shape(point) +
tm_bubbles(size = 11)
tm_shape(subzone) +
tm_polygons() +
tm_shape(point) +
tm_bubbles(size = 1)
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords %>% as.data.frame()
geocoded_pt
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords
geocoded_pt
geocoded_pt <- geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords
geocoded_pt[1]
geocoded_df <- data.frame(x = double(),
y = double())
rbind(geocoded_df, geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords)
geocoded_df <- data.frame(x = double(),
y = double())
geocoded_df <- rbind(geocoded_df, geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords)
geocoded_df <- rbind(geocoded_df, geocode_OSM('174 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords)
geocoded_df
geocoded_df <- data.frame(x = double(),
y = double())
geocoded_df <- rbind(geocoded_df, geocode_OSM('170 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords)
geocoded_df <- rbind(geocoded_df, geocode_OSM('174 ANG MO KIO AVE 4 SINGAPORE', projection=4326)$coords)
geocoded_df <- rbind(geocoded_df, geocode_OSM('216 ANG MO KIO AVE 1 SINGAPORE', projection=4326)$coords)
geocoded_df
geocoded_df
names(geocoded_df) <- c('x', 'y')
geocoded_df
hdb_resale <- read_csv('data/aspatial/Resale Flat Prices 2000-2020 (data.gov).csv')
hdb_resale <- read_csv('data/aspatial/Resale Flat Prices 2000-2020 (data.gov).csv')
hdb_resale <- read_csv('data/aspatial/Resale Flat Prices 2000-2020 (data.gov).csv')
hdb_resale <- read_csv('data/aspatial/Resale Flat Prices 2000-2020 (data.gov).csv')
hdb_resale <- hdb_resale %>%
mutate(address = paste0(block, ' ', street_name, ' Singapore'))
glimpse(hdb_resale)
hdb_resale <- hdb_resale %>%
mutate(address = paste0(block, ' ', street_name, ' SINGAPORE'))
glimpse(hdb_resale)
hdb_resale$address
hdb_resale$address
length(hdb_resale$address)
address_col <- hdb_resale$address
# dataframe to store geocoded values
geocoded_df <- data.frame(x = double(),
y = double())
for (i in 1:length(address_col)) {
geocoded_df <- rbind(geocoded_df, geocode_OSM(i, projection=4326)$coords)
}
address_col[1]
address_col <- hdb_resale$address
# dataframe to store geocoded values
geocoded_df <- data.frame(x = double(),
y = double())
for (i in 1:length(address_col)) {
geocoded_df <- rbind(geocoded_df, geocode_OSM(address_col[i], projection=4326)$coords)
}
View(geocoded_df)
length(unique(address_col))
geocode_OSM('427 Tampines St 41 Singapore', projection=4326)$coords
unique(address_col)
write_csv(unique(address_col), 'address.csv')
write_csv(unique(address_col) %>% as.data.frame(), 'address.csv')
tm_shape(geocoded_df) %>%
tm_bubbles()
tm_shape(geocoded_df) +
tm_bubbles()
address_col <- unique(hdb_resale$address)
hdb_towns <- st_read(dsn = 'data/geospatial', layer = 'HDB_Towns_Boundary')
hdb_towns_3414 <- hdb_towns %>%
st_transform(3414)
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons()
tm_shape(hdb_towns_3414) +
tm_polygons()
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'red')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'darkslateblu')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'darkslateblue')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'salmonred')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'salmonred3')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'salmonpink3')
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'salmon3')
hdb_towns <- st_read(dsn = 'data/geospatial', layer = 'HDB_Towns_Boundary_Adj')
hdb_towns_3414 <- hdb_towns %>%
st_transform(3414)
tm_shape(subzone) +
tm_polygons() +
tm_shape(hdb_towns_3414) +
tm_polygons(col = 'salmon3')
hdb_resale <- read_csv('data/aspatial/Resale Flat Prices 2000-2020 (data.gov).csv')
glimpse(hdb_resale)
unique(hdb_resale$month)
hdb_resale2 <- hdb_resale %>%
split(month, '-')
hdb_resale2 <- hdb_resale %>%
split(hdb_resale$month, '-')
hdb_resale2 <- hdb_resale %>%
split(hdb_resale$month, '-')
hdb_resale2
hdb_resale2 <- hdb_resale %>%
split(hdb_resale$month, '-')
hdb_resale2
shiny::runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp()
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
shiny::runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp()
runApp()
runApp()
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
runApp('C:/Users/Xiao Rong/Desktop/School/Visual Analytics for Business Intelligence/Project/dashboard')
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
shiny::runApp()
